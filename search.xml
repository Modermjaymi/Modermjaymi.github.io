<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>0x04 二分</title>
    <url>/2023/03/10/%E4%BA%8C%E5%88%86/</url>
    <content><![CDATA[<h2 id="整数集合上的二分"><a href="#整数集合上的二分" class="headerlink" title="整数集合上的二分"></a>整数集合上的二分</h2><p>有一个数x，想要找<code>比x大的数中最小的</code>与<code>比x小的数中最大的</code>求法不同。各有自己的求法：</p>
<h3 id="找比x大的数中最小的"><a href="#找比x大的数中最小的" class="headerlink" title="找比x大的数中最小的"></a>找比x大的数中最小的</h3><p>记所有数字为<code>a[i]</code>，找<code>比x大的数中最小的</code>，即左半段可行，查找左半段，采用以下代码：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 求 &gt;= x 的数中最小的 */</span></span><br><span class="line"><span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(a[mid] &gt;= x) r = mid;</span><br><span class="line">    <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a[l];</span><br></pre></td></tr></table></figure></div>

<p>主要修改<code>r</code>指针的位置，寻找到<code>小于</code>x的第一个数就停止，让<code>l</code>与<code>r</code>交错，最终取到这个值<code>a[l]</code>，此时<code>l == r</code>。倘若未找到，此时<code>l == r</code>，<code>a[l] == a[n]</code>(a : 1~n)</p>
<p><strong>例题：<a class="link"   href="https://www.luogu.com.cn/problem/P1902" >p1902 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></strong></p>
<h3 id="找比x小的数中最大的"><a href="#找比x小的数中最大的" class="headerlink" title="找比x小的数中最大的"></a>找比x小的数中最大的</h3><p>要找<code>比x小的数中最大的</code>，即右半段可行，采用以下代码：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(a[mid] &lt;= x) l = mid;</span><br><span class="line">    <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a[l];</span><br></pre></td></tr></table></figure></div>

<p>主要修改<code>l</code>指针的位置，寻找到第一个比x大的数字停止。<code>l</code>，<code>r</code>交错，最终取到所求值<code>a[l]</code>，此时<code>l == r</code>。倘若未找到，此时<code>l == r</code>，<code>a[l] == a[n]</code>(a : 1~n)</p>
<p><strong>例题：<a class="link"   href="https://www.luogu.com.cn/problem/P2678" >p2678 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></strong></p>
<blockquote>
<p>小技巧：可以通过将原二分区间$[1,n]$分别扩大成$[0,n]$和$[1,n+1]$，当没有找到元素时，l或r会位于新加的位置之上，此时说明a中不存在要找的数</p>
</blockquote>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>总之，正确写出二分的流程为：</p>
<ul>
<li>分析具体问题，确定左右半段是哪个可行区间，mid应该趋向哪个半段</li>
<li>根据分析结果，选择<code>r = mid, l = mid + 1, mid = (l + r) &gt;&gt; 1</code>或者<code>l = mid, r = mid - 1, mid = (l + r + 1) &gt;&gt; 1</code></li>
<li>最终终止于<code>l == r</code>，此值即为答案所在位置</li>
</ul>
<p><strong>实验例程：</strong></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123;<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">20</span>&#125;;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">5</span>;</span><br><span class="line">	<span class="type">int</span> l = <span class="number">1</span>, r = <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">		<span class="type">int</span> mid = (l + r + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[mid] &lt;= x) l = mid;</span><br><span class="line">		<span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; a[l] &lt;&lt; <span class="string">&quot; *&quot;</span> &lt;&lt; l &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><a class="link"   href="https://www.luogu.com.cn/training/9374" >题单(每道题都很重要) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h2 id="实数域上的二分"><a href="#实数域上的二分" class="headerlink" title="实数域上的二分"></a>实数域上的二分</h2><p>我们需要确定二分精度<code>eps</code>，以<code>l + eps &lt; r</code>为循环条件，每次选择<code>r = mid</code>或<code>l = mid</code>分支之一即可。保留k位小数时，$eps = 10^{-(k+2)}$</p>
<blockquote>
<p>我们注意：考虑到精度，缩小区间时，我们得将<code>l</code>与<code>r</code>对齐才行，不可采取<code>-1/+1</code>等操作</p>
</blockquote>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (l + eps &lt; r) &#123;</span><br><span class="line">	<span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">calc</span>(mid)) r = mid;</span><br><span class="line">    <span class="keyword">else</span> l = mid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>当精度不方便表示时，可以采用循环固定次数的二分方法，精度更高</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">    <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">calc</span>(mid)) r = mid;</span><br><span class="line">    <span class="keyword">else</span> l = mid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="三分"><a href="#三分" class="headerlink" title="三分"></a>三分</h2><p>通过将单峰函数均匀分成三等分，每次比较两个等分点，缩小较小的等分点进行比较，最终求出该函数极值的算法</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (l + eps &lt; r) &#123;</span><br><span class="line">		<span class="type">double</span> lmid = l + (r - l) / <span class="number">3.0</span>;</span><br><span class="line">		<span class="type">double</span> rmid = l + (r - l) / <span class="number">3.0</span> * <span class="number">2.0</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">calc</span>(lmid) &lt; <span class="built_in">calc</span>(rmid)) l = lmid;</span><br><span class="line">		<span class="keyword">else</span> r = rmid;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p><a class="link"   href="https://www.luogu.com.cn/problem/P3382" >p3382 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">double</span> l, r;</span><br><span class="line"><span class="type">double</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">calc</span><span class="params">(<span class="type">double</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="type">double</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = n; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">		<span class="type">double</span> cur = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">			cur *= x;</span><br><span class="line">		res += cur * a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%lf%lf&quot;</span>, &amp;n, &amp;l, &amp;r);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = n; i &gt;= <span class="number">0</span>; i--) <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>, &amp;a[i]);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (l + eps &lt; r) &#123;</span><br><span class="line">		<span class="type">double</span> lmid = l + (r - l) / <span class="number">3.0</span>;</span><br><span class="line">		<span class="type">double</span> rmid = l + (r - l) / <span class="number">3.0</span> * <span class="number">2.0</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">calc</span>(lmid) &lt; <span class="built_in">calc</span>(rmid)) l = lmid;</span><br><span class="line">		<span class="keyword">else</span> r = rmid;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%.5lf&quot;</span>, l);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>算法竞赛进阶指南通关计划</category>
        <category>0x04二分</category>
      </categories>
      <tags>
        <tag>算法竞赛进阶指南</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>高精度加法&amp;乘法</title>
    <url>/2022/04/08/%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8A%A0%E6%B3%95/</url>
    <content><![CDATA[<h1 id="高精度加法-amp-乘法"><a href="#高精度加法-amp-乘法" class="headerlink" title="高精度加法&amp;乘法"></a>高精度加法&amp;乘法</h1><blockquote>
<p>做题时常常遇到数值异常庞大的高精度题型，即使long long也无法存储，这时我们只能用模拟的方式，将数据存储在string中。</p>
</blockquote>
<h2 id="高进度加法"><a href="#高进度加法" class="headerlink" title="高进度加法"></a>高进度加法</h2><h3 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h3><p>首先搞定输入：</p>
<blockquote>
<p>由于是加法，所以输入的数据应该非常巨大，所以我们应该用string来存储：</p>
</blockquote>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line">string s1,s2;</span><br><span class="line"><span class="type">int</span> a[<span class="number">100001</span>],b[<span class="number">100001</span>],c[<span class="number">100001</span>];	</span><br><span class="line"><span class="comment">//a,b作为两个待加数，c作为结果</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; s1 &gt;&gt; s2; <span class="comment">//用来存储输入的数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><em>小技巧：利用数组的第一项来记录数组的长度，这样可以省出两个变量，但是记得在调用的时候for要从1开始。</em></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line">a[<span class="number">0</span>] = s1.<span class="built_in">size</span>(); b[<span class="number">0</span>] = s2.<span class="built_in">size</span>();</span><br></pre></td></tr></table></figure></div>

<p>之后我们来将输入的数据(string)转换成真实的数字数据：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a[<span class="number">0</span>]; i++)</span><br><span class="line">    a[i] = s1[a[<span class="number">0</span>]-i] - <span class="string">&quot;0&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= b[<span class="number">0</span>]; i++)</span><br><span class="line">    b[i] = s2[b[<span class="number">0</span>]-i] - <span class="string">&quot;0&quot;</span></span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>具体的实现机理为：</p>
<p>对于当前的位，用当前字符的ASCII值减去0的ASCII的值实现真实的数字值，再强行转换成int类型，将值赋给a,b两个数组中，完整的处理数据。</p>
</blockquote>
<p>转换好数据，我们接着实行加法运算：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> len = <span class="built_in">max</span>(a[<span class="number">0</span>],b[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;	<span class="comment">//记得用0作为数组的长度</span></span><br><span class="line">    <span class="comment">//对位加对位，不用担心其中的一个数组的长度，已经初始化为0</span></span><br><span class="line">	c[i] = a[i]+b[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>数据存好了，但是可以想到，有的位大于十，于是接着我们来实现进位操作：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">    c[i] = a[i]+b[i];</span><br><span class="line">    <span class="keyword">if</span>(c[i] &gt; <span class="number">9</span>) &#123;</span><br><span class="line">        c[i+<span class="number">1</span>] += c[i]/<span class="number">10</span>;</span><br><span class="line">        c[i] %= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这时候我们可以想到，c 数组中仍然有未存储的数据，其当前为0，所以我们肯定不能弃之不管。因此我们可以有如下操作：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(c[len] == <span class="number">0</span> &amp;&amp; len &gt; <span class="number">1</span>)</span><br><span class="line">    len--;</span><br><span class="line"><span class="comment">//也可以写成：</span></span><br><span class="line"><span class="keyword">for</span>(len; len &gt; <span class="number">1</span> &amp;&amp; c[len] == <span class="number">0</span>; len--);</span><br></pre></td></tr></table></figure></div>

<p>最后的最后：输出</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = len; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">    cout &lt;&lt; c[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>以下为完整代码：</strong></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string s1,s2;</span><br><span class="line"><span class="type">int</span> a[<span class="number">10000001</span>],b[<span class="number">10000001</span>],c[<span class="number">10000001</span>];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">    <span class="comment">//搞定输入，存储数据</span></span><br><span class="line">    a[<span class="number">0</span>] = s1.<span class="built_in">size</span>(); b[<span class="number">0</span>] = s2.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a[<span class="number">0</span>]; i++)</span><br><span class="line">        a[i] = s1[a[<span class="number">0</span>]-i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= b[<span class="number">0</span>]; i++)</span><br><span class="line">    <span class="comment">//首先利用字符串相减的性质，将0的ASCII和当前数字相减</span></span><br><span class="line">        b[i] = s2[b[<span class="number">0</span>]-i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="comment">//所得到的为数字的真实数值，之后强制转换成int，得到答案。</span></span><br><span class="line">    len = <span class="built_in">max</span>(a[<span class="number">0</span>],b[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">    	c[i] = a[i]+b[i];</span><br><span class="line">        <span class="keyword">if</span>(c[i] &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            c[i+<span class="number">1</span>] += c[i]/<span class="number">10</span>; <span class="comment">//注意次序!</span></span><br><span class="line">            c[i] %= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(c[len] == <span class="number">0</span> &amp;&amp; len &gt; <span class="number">1</span>)</span><br><span class="line">        len--;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = len; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">        cout &lt;&lt; c[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="高精度乘法"><a href="#高精度乘法" class="headerlink" title="高精度乘法"></a>高精度乘法</h2><p>与加法类似，首先搞定输入：</p>
<p>同样是采用字符串转换成int进行存储：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line">cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = s1.<span class="built_in">size</span>(); b[<span class="number">0</span>] = s2.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a[<span class="number">0</span>]; i++)</span><br><span class="line">        a[i] = s1[a[<span class="number">0</span>]-i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= b[<span class="number">0</span>]; i++)</span><br><span class="line">        b[i] = s2[b[<span class="number">0</span>]-i] - <span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure></div>

<p>之后我们进行乘法运算：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a[<span class="number">0</span>]; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= b[<span class="number">0</span>]; j++) &#123;</span><br><span class="line">        c[i+j<span class="number">-1</span>] += a[i]*b[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>这里要注意：由于乘法的特性，我们需要将一位和另一数组的所有位相乘，所以显然两个for是最佳选择。两个for的限制条件均为对应该数组的长度</p>
</blockquote>
<p>之后我们对计算好了的c数组进行进位操作：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line">len = a[<span class="number">0</span>]+b[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(c[i] &gt; <span class="number">9</span>) &#123;</span><br><span class="line">        c[i+<span class="number">1</span>] += c[i]/<span class="number">10</span>;</span><br><span class="line">        c[i] %= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>考虑一下，进位该进多少位？</p>
<p>应该进a[0] + b[0]位，例如两个最大二位数99*99=9801(4位)</p>
</blockquote>
<p>之后进行清零操作：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(c[len] == <span class="number">0</span> &amp;&amp; len &gt; <span class="number">1</span>)</span><br><span class="line">    len--;</span><br></pre></td></tr></table></figure></div>

<p>然后输出：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">    cout &lt;&lt; c[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>完整代码：</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string s1,s2;</span><br><span class="line"><span class="type">int</span> a[<span class="number">10000001</span>],b[<span class="number">10000001</span>],c[<span class="number">10000001</span>];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">    <span class="comment">//搞定输入，存储数据</span></span><br><span class="line">    a[<span class="number">0</span>] = s1.<span class="built_in">size</span>(); b[<span class="number">0</span>] = s2.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a[<span class="number">0</span>]; i++)</span><br><span class="line">        a[i] = s1[a[<span class="number">0</span>]-i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= b[<span class="number">0</span>]; i++)</span><br><span class="line">    <span class="comment">//首先利用字符串相减的性质，将0的ASCII和当前数字相减</span></span><br><span class="line">        b[i] = s2[b[<span class="number">0</span>]-i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="comment">//所得到的为数字的真实数值，之后强制转换成int，得到答案。</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= a[<span class="number">0</span>]; i++) &#123; <span class="comment">//存储数据</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= b[<span class="number">0</span>]; j++) &#123;</span><br><span class="line">            c[i+j<span class="number">-1</span>] += a[i]*b[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    len = a[<span class="number">0</span>]+b[<span class="number">0</span>]; <span class="comment">//两个n位数相乘 乘积最多是n+n位</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123; <span class="comment">//进位</span></span><br><span class="line">        <span class="keyword">if</span>(c[i] &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            c[i+<span class="number">1</span>] += c[i]/<span class="number">10</span>; <span class="comment">//注意次序!</span></span><br><span class="line">            c[i] %= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(c[len] == <span class="number">0</span> &amp;&amp; len &gt; <span class="number">1</span>)</span><br><span class="line">        len--;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = len; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">        cout &lt;&lt; c[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

]]></content>
      <tags>
        <tag>algorithm</tag>
      </tags>
  </entry>
</search>
